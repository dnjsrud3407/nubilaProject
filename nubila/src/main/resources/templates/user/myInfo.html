<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta id="_csrf" name="_csrf" th:content="${_csrf.token}"/>
    <meta id="_csrf_header" name="_csrf_header" th:content="${_csrf.headerName}"/>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <link rel="stylesheet" href="css/haonstyle.css" th:href="@{/css/haonstyle.css}">
    <link th:href="@{/css/user.css}" rel="stylesheet">

    <script src="https://kit.fontawesome.com/12cca3ed35.js" crossorigin="anonymous"></script>
    <script type="text/javascript" th:src="@{/js/header.js}" defer></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script th:src="@{/js/myInfo.js}"></script>
    <title>NUBILA🎵 마이페이지</title>
</head>
<body>
<div th:replace="fragments/header :: nav"></div>
<div id="header-myInfo">
    <ul class="nav-menu-myInfo">
        <li><a class="active-li" href="/user/myInfo">내 정보관리</a></li>
        <li><a href="/user/delete">회원탈퇴</a></li>
    </ul>
</div>
<div class="myInfo-container">
    <form name="changeForm" method="get">
        <div class="myInfo-div">
            <h4 class="myInfo-h4" th:text="${user.username}"></h4>
            안녕하세요
        </div>
        <div class="myInfo-div">
            <h4 class="myInfo-h4">아이디</h4>
            <span th:text="${user.user_login_id}"></span>
        </div>
        <div class="myInfo-div">
            <h4 class="myInfo-h4">비밀번호</h4>
            <button type="button" class="password_change_btn btn btn-ok" onclick="password_change()">변경</button>
            <div class="password_change_div">
                <label for="confirm_password">현재 비밀번호</label>
                <input type="password" class="input-w" id="confirm_password" name="confirm_password">
                <span class="pw_confirm_invalid">비밀번호가 일치하지 않습니다.</span>
                <div class="btn-change">
                    <button type="button" class="btn btn-ok" onclick="password_validate()">확인</button>
                    <button type="button" class="btn btn-ok-white" onclick="password_cancel()">취소</button>
                </div>
            </div>
        </div>
        <div class="myInfo-div">
            <h4 class="myInfo-h4">이메일</h4>
            <span th:text="${secureEmail}"></span><button type="button" class="email_change_btn btn btn-ok" onclick="email_change()">변경</button>
            <div class="email_change_div">
                <label for="confirm_email">현재 이메일</label>
                <input type="text" class="input-w" id="confirm_email" name="confirm_email">
                <span class="email_confirm_invalid">이메일이 일치하지 않습니다.</span>
                <div class="btn-change">
                    <button type="button" class="btn btn-ok" onclick="email_validate()">확인</button>
                    <button type="button" class="btn btn-ok-white" onclick="email_cancel()">취소</button>
                </div>
            </div>
        </div>
        <!--

        <table>
            <tr>
                <th>아이디</th>
                <td th:text="${user.user_login_id}">아이디</td>
            </tr>
            <tr>
                <th>비밀번호</th>
                <td>
                    <div>
                        <button type="button" class="password_change_btn" onclick="password_change()">변경</button>
                        <div class="password_change_div">
                            <label for="confirm_password">현재 비밀번호</label>
                            <input type="password" id="confirm_password" name="confirm_password">
                            <button type="button" onclick="password_validate()">확인</button>
                            <button type="button" onclick="password_cancel()">취소</button>
                            <span class="pw_confirm_invalid">비밀번호가 일치하지 않습니다.</span>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <th>이름</th>
                <td th:text="${user.username}">이름</td>
            </tr>
            <tr>
                <th>이메일</th>
                <td>
                    <div>
                        <span th:text="${secureEmail}"></span><button type="button" class="email_change_btn" onclick="email_change()">변경</button>
                        <div class="email_change_div">
                            <label for="confirm_email">현재 이메일</label>
                            <input type="text" id="confirm_email" name="confirm_email" style="width: 55%">
                            <button type="button" onclick="email_validate()">확인</button>
                            <button type="button" onclick="email_cancel()">취소</button>
                            <span class="email_confirm_invalid">이메일이 일치하지 않습니다.</span>
                        </div>
                    </div>
                </td>
            </tr>
        </table>-->
    </form>
</div>
<script>
    const toggleBtn = document.querySelector(".nav-toggle-btn");
    const menu = document.querySelector(".nav-menu");
    toggleBtn.addEventListener('click', ()=>{
        menu.classList.toggle('active');
    });

</script>
</body>
</html>